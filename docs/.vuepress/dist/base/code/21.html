<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>XSS | 胡潇遥的个人网站</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/logo.png">
    <meta name="description" content="胡潇遥的个人网站,个人网，个人博客">
    
    <link rel="preload" href="/assets/css/0.styles.71231672.css" as="style"><link rel="preload" href="/assets/js/app.424a27f2.js" as="script"><link rel="preload" href="/assets/js/2.0ed5c963.js" as="script"><link rel="preload" href="/assets/js/31.82fffbbc.js" as="script"><link rel="prefetch" href="/assets/js/10.25bbb39e.js"><link rel="prefetch" href="/assets/js/100.4718f0e4.js"><link rel="prefetch" href="/assets/js/11.e7dcd8ed.js"><link rel="prefetch" href="/assets/js/12.d00a4a60.js"><link rel="prefetch" href="/assets/js/13.8bbfae64.js"><link rel="prefetch" href="/assets/js/14.2105bcba.js"><link rel="prefetch" href="/assets/js/15.1ef4ef29.js"><link rel="prefetch" href="/assets/js/16.6c6fb245.js"><link rel="prefetch" href="/assets/js/17.95098f93.js"><link rel="prefetch" href="/assets/js/18.64632fc1.js"><link rel="prefetch" href="/assets/js/19.f74d9096.js"><link rel="prefetch" href="/assets/js/20.8bda7505.js"><link rel="prefetch" href="/assets/js/21.f1696334.js"><link rel="prefetch" href="/assets/js/22.149115ef.js"><link rel="prefetch" href="/assets/js/23.cf39d16f.js"><link rel="prefetch" href="/assets/js/24.b19c4467.js"><link rel="prefetch" href="/assets/js/25.4f6b6ae4.js"><link rel="prefetch" href="/assets/js/26.03b68692.js"><link rel="prefetch" href="/assets/js/27.8fe34131.js"><link rel="prefetch" href="/assets/js/28.5675947b.js"><link rel="prefetch" href="/assets/js/29.a8fe8e58.js"><link rel="prefetch" href="/assets/js/3.32ddbd40.js"><link rel="prefetch" href="/assets/js/30.8170f4dc.js"><link rel="prefetch" href="/assets/js/32.d6259d30.js"><link rel="prefetch" href="/assets/js/33.08616f05.js"><link rel="prefetch" href="/assets/js/34.c2c50342.js"><link rel="prefetch" href="/assets/js/35.a2f74dda.js"><link rel="prefetch" href="/assets/js/36.feb04806.js"><link rel="prefetch" href="/assets/js/37.a9e2f051.js"><link rel="prefetch" href="/assets/js/38.39290d8d.js"><link rel="prefetch" href="/assets/js/39.b22c7be8.js"><link rel="prefetch" href="/assets/js/4.84553d38.js"><link rel="prefetch" href="/assets/js/40.0930b2aa.js"><link rel="prefetch" href="/assets/js/41.35d431d2.js"><link rel="prefetch" href="/assets/js/42.74987fca.js"><link rel="prefetch" href="/assets/js/43.7633c93c.js"><link rel="prefetch" href="/assets/js/44.68ffa57c.js"><link rel="prefetch" href="/assets/js/45.dda9ec76.js"><link rel="prefetch" href="/assets/js/46.847c7b17.js"><link rel="prefetch" href="/assets/js/47.8eb97004.js"><link rel="prefetch" href="/assets/js/48.00487f37.js"><link rel="prefetch" href="/assets/js/49.ca0ecfd1.js"><link rel="prefetch" href="/assets/js/5.325d086d.js"><link rel="prefetch" href="/assets/js/50.80cf9260.js"><link rel="prefetch" href="/assets/js/51.9b5b6326.js"><link rel="prefetch" href="/assets/js/52.df1d1c0e.js"><link rel="prefetch" href="/assets/js/53.3cc7767c.js"><link rel="prefetch" href="/assets/js/54.f9ab6b52.js"><link rel="prefetch" href="/assets/js/55.e5d9ab6c.js"><link rel="prefetch" href="/assets/js/56.992f659b.js"><link rel="prefetch" href="/assets/js/57.fd3fc397.js"><link rel="prefetch" href="/assets/js/58.128ba069.js"><link rel="prefetch" href="/assets/js/59.9e0586b9.js"><link rel="prefetch" href="/assets/js/6.3c93203b.js"><link rel="prefetch" href="/assets/js/60.190f55fb.js"><link rel="prefetch" href="/assets/js/61.8ed36947.js"><link rel="prefetch" href="/assets/js/62.3a554c70.js"><link rel="prefetch" href="/assets/js/63.252ce0f9.js"><link rel="prefetch" href="/assets/js/64.352f872a.js"><link rel="prefetch" href="/assets/js/65.c71db012.js"><link rel="prefetch" href="/assets/js/66.dab4f80a.js"><link rel="prefetch" href="/assets/js/67.9762774e.js"><link rel="prefetch" href="/assets/js/68.a16ac4da.js"><link rel="prefetch" href="/assets/js/69.a0d7255d.js"><link rel="prefetch" href="/assets/js/7.ce0bf00c.js"><link rel="prefetch" href="/assets/js/70.ded7ad31.js"><link rel="prefetch" href="/assets/js/71.222c39fb.js"><link rel="prefetch" href="/assets/js/72.cc19df5d.js"><link rel="prefetch" href="/assets/js/73.0aec3837.js"><link rel="prefetch" href="/assets/js/74.c69d131a.js"><link rel="prefetch" href="/assets/js/75.be6769db.js"><link rel="prefetch" href="/assets/js/76.a7a73d43.js"><link rel="prefetch" href="/assets/js/77.6af3382f.js"><link rel="prefetch" href="/assets/js/78.3f12ce18.js"><link rel="prefetch" href="/assets/js/79.93ce4d94.js"><link rel="prefetch" href="/assets/js/8.026f6d16.js"><link rel="prefetch" href="/assets/js/80.deb7b783.js"><link rel="prefetch" href="/assets/js/81.8f62e0b0.js"><link rel="prefetch" href="/assets/js/82.aedd7833.js"><link rel="prefetch" href="/assets/js/83.ab9ce76d.js"><link rel="prefetch" href="/assets/js/84.b9019c5e.js"><link rel="prefetch" href="/assets/js/85.1dfce37b.js"><link rel="prefetch" href="/assets/js/86.e4cc31b9.js"><link rel="prefetch" href="/assets/js/87.03b7c1db.js"><link rel="prefetch" href="/assets/js/88.2a8cac0e.js"><link rel="prefetch" href="/assets/js/89.20317881.js"><link rel="prefetch" href="/assets/js/9.52db759b.js"><link rel="prefetch" href="/assets/js/90.79861ebf.js"><link rel="prefetch" href="/assets/js/91.cc3b3d7d.js"><link rel="prefetch" href="/assets/js/92.743a1126.js"><link rel="prefetch" href="/assets/js/93.da02d9bb.js"><link rel="prefetch" href="/assets/js/94.196d9ff8.js"><link rel="prefetch" href="/assets/js/95.44f27ffc.js"><link rel="prefetch" href="/assets/js/96.30e70582.js"><link rel="prefetch" href="/assets/js/97.8b907294.js"><link rel="prefetch" href="/assets/js/98.bc201d4c.js"><link rel="prefetch" href="/assets/js/99.7ba2fb22.js">
    <link rel="stylesheet" href="/assets/css/0.styles.71231672.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">胡潇遥的个人网站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/base/" class="nav-link router-link-active">
  基础知识
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  数据结构与算法
</a></div><div class="nav-item"><a href="https://github.com/ttshxy/ttshxy.github.io/tree/master" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/react/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/base/" class="nav-link router-link-active">
  基础知识
</a></div><div class="nav-item"><a href="/leetcode/" class="nav-link">
  数据结构与算法
</a></div><div class="nav-item"><a href="https://github.com/ttshxy/ttshxy.github.io/tree/master" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/base/" aria-current="page" class="sidebar-link">目录</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>js</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/base/code/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/base/code/0.html" class="sidebar-link">js var let const的区别</a></li><li><a href="/base/code/debounce.html" class="sidebar-link">什么是防抖，应用场景有哪些⭐️</a></li><li><a href="/base/code/throttle.html" class="sidebar-link">什么是节流，应用场景有哪些⭐️</a></li><li><a href="/base/code/01.html" class="sidebar-link">js中为何 0.1+0.2 不等于 0.3，应如何做相等比较</a></li><li><a href="/base/code/02.html" class="sidebar-link">Ajax/Fetch/axios三者有什么区别</a></li><li><a href="/base/code/03.html" class="sidebar-link">TCP 三次握手与四次挥手</a></li><li><a href="/base/code/04.html" class="sidebar-link">for...in与for...of的区别</a></li><li><a href="/base/code/05.html" class="sidebar-link">js严格模式的特点</a></li><li><a href="/base/code/06.html" class="sidebar-link">js跨域</a></li><li><a href="/base/code/07.html" class="sidebar-link">Antd Form.Item控件嵌套</a></li><li><a href="/base/code/08.html" class="sidebar-link">js事件循环体系</a></li><li><a href="/base/code/09.html" class="sidebar-link">for与forEach哪个快</a></li><li><a href="/base/code/10.html" class="sidebar-link">js作用域与闭包</a></li><li><a href="/base/code/11.html" class="sidebar-link">js中的this</a></li><li><a href="/base/code/12.html" class="sidebar-link">js中的原型与原型链</a></li><li><a href="/base/code/13.html" class="sidebar-link">NodeJs commonJs与ES6 import区别</a></li><li><a href="/base/code/14.html" class="sidebar-link">js深拷贝与浅拷贝</a></li><li><a href="/base/code/15.html" class="sidebar-link">requestAnimationFrame使用</a></li><li><a href="/base/code/16.html" class="sidebar-link">js数组去重</a></li><li><a href="/base/code/17.html" class="sidebar-link">手写js拍平函数flat</a></li><li><a href="/base/code/18.html" class="sidebar-link">url参数匹配</a></li><li><a href="/base/code/19.html" class="sidebar-link">事件捕获与冒泡</a></li><li><a href="/base/code/20.html" class="sidebar-link">Retina 屏 1px 像素问题</a></li><li><a href="/base/code/21.html" aria-current="page" class="active sidebar-link">前端安全-XSS和CSRF</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/code/21.html#xss" class="sidebar-link">XSS</a></li><li class="sidebar-sub-header"><a href="/base/code/21.html#csrf" class="sidebar-link">CSRF</a></li><li class="sidebar-sub-header"><a href="/base/code/21.html#参考" class="sidebar-link">参考</a></li></ul></li><li><a href="/base/code/22.html" class="sidebar-link">js变量提升</a></li><li><a href="/base/code/23.html" class="sidebar-link">js进制转换</a></li><li><a href="/base/code/24.html" class="sidebar-link">js字符串 数组方法整理</a></li><li><a href="/base/code/25.html" class="sidebar-link">js obj与Map的区别 / 介绍下 Set、Map、WeakSet 和 WeakMap 的区别？</a></li><li><a href="/base/code/26.html" class="sidebar-link">async defer的区别</a></li><li><a href="/base/code/27.html" class="sidebar-link">instanceof作用，手动实现function isInstanceOf (child, Parent)</a></li><li><a href="/base/code/28.html" class="sidebar-link">js手写发布订阅</a></li><li><a href="/base/code/29.html" class="sidebar-link">js call/apply/bind的区别，手写bind函数</a></li><li><a href="/base/code/30.html" class="sidebar-link">js new操作符干了什么，手写new函数</a></li><li><a href="/base/code/31.html" class="sidebar-link">前端性能优化总结</a></li><li><a href="/base/code/32.html" class="sidebar-link">手写Promise.all</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>css</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络相关</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>杂项</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="xss"><a href="#xss" class="header-anchor">#</a> XSS</h2> <h3 id="概述"><a href="#概述" class="header-anchor">#</a> 概述</h3> <p>XSS（Cross Site Script），指<strong>跨站脚本攻击</strong>。原本缩写为 CSS，但因为与层叠样式表缩写（CSS）重名要做区分，所以改为 XSS。</p> <h3 id="攻击方式"><a href="#攻击方式" class="header-anchor">#</a> 攻击方式</h3> <p>攻击者通过向网站页面注入恶意脚本（一般是 JavaScript），通过恶意脚本对客户端网页进行篡改，达到窃取信息等目的，本质是数据被当作程序执行。</p> <h3 id="xss-的注入点"><a href="#xss-的注入点" class="header-anchor">#</a> XSS 的注入点</h3> <ul><li>HTML 的节点内容或属性，存在读取可输入数据</li> <li>javascript 代码，存在由后台注入的变量或用户输入的信息</li> <li>富文本</li></ul> <h3 id="xss-危害"><a href="#xss-危害" class="header-anchor">#</a> XSS 危害</h3> <ul><li>通过 document.cookie 盗取 cookie</li> <li>使用 js 或 css 破坏页面正常的结构与样式</li> <li>流量劫持（通过访问某段具有 window.location.href 定位到其他页面:<code>&lt;script&gt;window.location.href=&quot;www.baidu.com&quot;;&lt;/script&gt;</code>）</li> <li>Dos 攻击：利用合理的客户端请求来占用过多的服务器资源，从而使合法用户无法得到服务器响应</li> <li>利用 iframe、frame、XMLHttpRequest 或上述 Flash 等方式，以（被攻击）用户的身份执行一些管理动作，或执行一些一般的如发微博、加好友、发私信等操作</li> <li>利用可被攻击的域受到其他域信任的特点，以受信任来源的身份请求一些平时不允许的操作，如进行不当的投票活动</li> <li>偷取网站任意数据、用户资料等等</li></ul> <h3 id="xss-的类型"><a href="#xss-的类型" class="header-anchor">#</a> XSS 的类型</h3> <h4 id="反射型-非持久"><a href="#反射型-非持久" class="header-anchor">#</a> 反射型（非持久）</h4> <p>反射型 XSS，也叫非持久型 XSS，是指发生请求时，XSS 代码出现在请求 URL 中，作为参数提交到服务器，服务器解析并响应。响应内容包含 XSS 代码，返回给浏览器解析并执行，这个过程就像一次反射，所以叫反射型 XSS。</p> <p>这种攻击方式通常需要攻击者诱使用户点击一个恶意链接，或者提交一个表单，或者进入一个恶意网站时，注入脚本进入被攻击者的网站。</p> <p>该方式只会经过服务器，不会经过数据库。</p> <p>例子：
比如用户进行搜索时，点击搜索按钮访问到如下链接</p> <div class="language-xml extra-class"><pre class="language-xml"><code>http://xxx.com/search?keyword=&quot;&gt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>alert('XSS攻击');<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>当浏览器请求时，服务器解析参数 keyword，得到<code>&quot;&gt;&lt;script&gt;alert('XSS攻击');&lt;/script&gt;</code>，拼接到 HTML 中返回给浏览器，如下：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  alert('XSS攻击')
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
&quot;&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>搜索<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  您搜索的关键词是：&quot;&gt;
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
    alert('XSS攻击')
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>因此将其执行了。</p> <h4 id="存储型-持久"><a href="#存储型-持久" class="header-anchor">#</a> 存储型（持久）</h4> <p>存储型 XSS，也叫持久型 XSS，主要是将 XSS 代码发送到服务器，当浏览器请求数据时，脚本从服务器上传回并执行。与反射型 XSS 的差别在于，提交的代码会存储在服务器端，下次请求时目标页面时不用再提交 XSS 代码。</p> <p>比较常见的场景就是网页的留言板，攻击者在留言板写下包含攻击性的脚本代码，发表之后所有访问该留言的用户，留言内容从服务器解析之后发现有 XSS 代码于是当做正常的 HTML 和 JS 解析执行，就发生了 XSS 攻击。</p> <p>该方式会经过服务器，也会经过数据库。</p> <h4 id="dom-型"><a href="#dom-型" class="header-anchor">#</a> DOM 型</h4> <p>基于 DOM 的 XSS 攻击是指通过恶意脚本修改页面的 DOM 结构，将攻击脚本写在 URL 中，诱导用户点击该 URL，如果 URL 被解析，那么攻击脚本就会被运行，和前两者 XSS 攻击区别是：取出和执行恶意代码由浏览器端完成，不经过服务端，属于前端 JavaScript 自身的安全漏洞，而其他两种 XSS 都属于服务端的安全漏洞主要在于 DOM 型攻击。</p> <p>例子引用自：<a href="https://link.segmentfault.com/?enc=uaPr40ZL%2F5wqF6KYKydnJw%3D%3D.nuSEbgY2q7814d5U96GqZChWC%2FB6OLvByWva9u9povrTxh%2BqxdieS6yVQr%2F3StpqTaCrXAmg7ujPMHndRyMtJQ%3D%3D" target="_blank" rel="noopener noreferrer">DOM 型攻击例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>XSS:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Submit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>div<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  const input = document.getElementById('input')
  const btn = document.getElementById('btn')
  const div = document.getElementById('div')

  let val

  input.addEventListener(
    'change',
    e =&gt; {
      val = e.target.value
    },
    false
  )

  btn.addEventListener(
    'click',
    () =&gt; {
      div.innerHTML = `<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span>${val}</span><span class="token punctuation">&gt;</span></span>testLink<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>`
    },
    false
  )
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>点击 Submit 按钮后，会在当前页面插入一个链接，其地址为用户的输入内容。如果用户在输入时构造了如下内容：</p> <div class="language-arcade extra-class"><pre class="language-text"><code>'' onclick=alert(/xss/)
</code></pre></div><p>用户提交之后，页面代码就变成了：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span> <span class="token attr-name">onlick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>alert(/xss/)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>testLink<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>此时，用户点击生成的链接，就会执行对应的脚本。</p> <h3 id="如何防范-xss"><a href="#如何防范-xss" class="header-anchor">#</a> 如何防范 XSS</h3> <p>总体就是<strong>不能将用户的输入直接存到服务器，需要对一些数据进行特殊处理</strong></p> <h4 id="设置-httponly"><a href="#设置-httponly" class="header-anchor">#</a> 设置 HttpOnly</h4> <p>HttpOnly 是一个设置 cookie 是否可以被 javasript 脚本读取的属性，浏览器会禁止页面的 Javascript 访问带有 HttpOnly 属性的 Cookie。</p> <p>严格来说，这种方式不是防御 XSS，而是在用户被 XSS 攻击之后，不被获取 Cookie 数据。</p> <h4 id="csp-内容安全策略"><a href="#csp-内容安全策略" class="header-anchor">#</a> CSP 内容安全策略</h4> <p>CSP(content security policy)，是一个额外的安全层，用于检测并削弱某些特定类型的攻击，包括跨站脚本 (XSS) 和数据注入攻击等。</p> <p>CSP 可以通过 HTTP 头部（Content-Security-Policy）或</p><meta>元素配置页面的内容安全策略，以控制浏览器可以为该页面获取哪些资源。比如一个可以上传文件和显示图片页面，应该允许图片来自任何地方，但限制表单的 action 属性只可以赋值为指定的端点。<p></p> <p>现在主流的浏览器内置了防范 XSS 的措施，开启 CSP，即开启白名单，可阻止白名单以外的资源加载和运行</p> <h4 id="输入检查"><a href="#输入检查" class="header-anchor">#</a> 输入检查</h4> <p>对于用户的任何输入要进行编码、解码和过滤：</p> <ul><li>编码：不能对用户输入的内容都保持原样，对用户输入的数据进行字符实体编码转义</li> <li>解码：原样显示内容的时候必须解码，不然显示不到内容了</li> <li>过滤：把输入的一些不合法的东西都过滤掉，从而保证安全性。如移除用户上传的 DOM 属性，如 onerror，移除用户上传的 Style 节点、iframe、script 节点等</li></ul> <p>对用户输入所包含的特殊字符或标签进行编码或过滤，如 <code>&lt;</code>，<code>&gt;</code>，<code>script</code>，防止 XSS 攻击</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">escHTML</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>str<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">''</span>
  <span class="token keyword">return</span> str
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&amp;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;amp;'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&lt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;lt;'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">&gt;</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;gt;'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">x27</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;#039;'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">x22</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">'&amp;quto;'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="输出检查"><a href="#输出检查" class="header-anchor">#</a> 输出检查</h4> <p>用户的输入会存在问题，服务端的输出也会存在问题。一般来说，除富文本的输出外，在变量输出到 HTML 页面时，可以使用编码或转义的方式来防御 XSS 攻击。例如利用 <a href="https://link.segmentfault.com/?enc=MppsxZcu8wF%2FW2k6z7I3Gw%3D%3D.DlUrUuZYzKpk3hHCfxU5dh0PZCFN9aZYveD7O4y2QG57FzdSr3OdpKf9vtNTt0en" target="_blank" rel="noopener noreferrer">sanitize-html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 对输出内容进行有规则的过滤之后再输出到页面中。</p> <h4 id="输入内容长度控制"><a href="#输入内容长度控制" class="header-anchor">#</a> 输入内容长度控制</h4> <p>对于不受信任的输入，都应该限定一个合理的长度。虽然无法完全防止 XSS 发生，但可以增加 XSS 攻击的难度。</p> <h4 id="验证码"><a href="#验证码" class="header-anchor">#</a> 验证码</h4> <p>防止脚本冒充用户提交危险操作。</p> <h2 id="csrf"><a href="#csrf" class="header-anchor">#</a> CSRF</h2> <h3 id="概述-2"><a href="#概述-2" class="header-anchor">#</a> 概述</h3> <p>CSRF(Cross Site Request Forgery)指的是<strong>跨站请求伪造</strong>，是一种劫持受信任用户向服务器发送非预期请求的攻击方式。跨域指的是请求来源于其他网站，伪造指的是非用户自身的意愿。</p> <h3 id="攻击方式-2"><a href="#攻击方式-2" class="header-anchor">#</a> 攻击方式</h3> <p>攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。</p> <p>与 XSS 攻击不同的是：XSS 是攻击者直接对我们的网站 A 进行注入攻击，CSRF 是通过网站 B 对我们的网站 A 进行伪造请求。</p> <p>例子：你登录购物网站 A 之后点击一个恶意链接 B，B 请求了网站 A 的下单接口，结果是在网站 A 的帐号生成一个订单。其背后的原理是：网站 B 通过表单、get 请求来伪造网站 A 的请求，这时候请求会带上网站 A 的 cookies，若登录态是保存在 cookies 中，则实现了伪造攻击。</p> <p>跨站请求可以用各种方式：图片 URL、超链接、CORS、Form 提交等等。部分请求方式可以直接嵌入在第三方论坛、文章中。</p> <h3 id="csrf-危害"><a href="#csrf-危害" class="header-anchor">#</a> CSRF 危害</h3> <ul><li>用户的登录态被盗用</li> <li>冒充用户完成操作或修改数据</li></ul> <h3 id="csrf-的类型"><a href="#csrf-的类型" class="header-anchor">#</a> CSRF 的类型</h3> <h4 id="get-类型的-csrf"><a href="#get-类型的-csrf" class="header-anchor">#</a> GET 类型的 CSRF</h4> <p>例子引入自：<a href="https://link.segmentfault.com/?enc=V4YG%2Fq6TTW306GVPPS9FrA%3D%3D.NbWM8hpFsTtMEeQBs9gIuHKaL8lv68Z8k3n2xOkWKRP6A0BVaFeblWSHjchovwxAq0L84CrJOUaQnl9I71hDjg%3D%3D" target="_blank" rel="noopener noreferrer">GET CSRF 例子<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>假设有这样一个场景：目标网站 A(<code>www.a.com</code>)，恶意网站 B(<code>www.b.com</code>)</p> <p>两个网站的域名不一样，目标网站 A 上有一个删除文章的功能，通常是用户单击'删除文章'链接时才会删除指定的文章。这个链接是<code>www.a.com/blog/del?id=1</code>, id 代表不同的文章。实际上就是发起一个 GET 请求</p> <ul><li>无法使用 Ajax 发起 GET 请求。因为 CSRF 请求是跨域的，而 Ajax 有同源策略的限制</li> <li>可以通过在恶意网站 B 上静态或者动态创建 img,script 等标签发起 GET 请求。将其 src 属性指向<code>www.a.com/blog/del?id=1</code>。通过标签的方式发起的请求不受同源策略的限制</li> <li>最后欺骗已经登录目标网站 A 的用户访问恶意网站 B，那么就会携带网站 A 源的登录凭证向网站 A 后台发起请求，这样攻击就发生了</li></ul> <p>CSRF 攻击有以下几个关键点：</p> <ul><li>请求是跨域的，可以看出请求是从恶意网站 B 上发出的</li> <li>通过 img, script 等标签来发起一个 GET 请求，因为这些标签不受同源策略的限制</li> <li>发出的请求是身份认证后的</li></ul> <h4 id="post-类型的-csrf"><a href="#post-类型的-csrf" class="header-anchor">#</a> POST 类型的 CSRF</h4> <p>假如目标网站 A 上有发表文章的功能，那么我们就可以动态创建 form 标签，然后修改文章的题目。</p> <p>在网站 B 中：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">setForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> form <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'form'</span><span class="token punctuation">)</span>
  form<span class="token punctuation">.</span>action <span class="token operator">=</span> <span class="token string">'www.a.com/blog/article/update'</span>
  form<span class="token punctuation">.</span>methods <span class="token operator">=</span> <span class="token string">'POST'</span>
  <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">)</span>
  input<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'text'</span>
  input<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'csfr攻击啦！'</span>
  input<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'title'</span>
  form<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span>
  form<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">setForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>上面代码可以看出，动态创建了 form 表单，然后调用 submit 方法，就可以通过跨域的伪造请求来实现修改目标网站 A 的某篇文章的标题了。</p> <p>通常是利用自动提交的表单</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xxx.com/money<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>account<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jacky<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>amount<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10000<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span>
  document.forms[0].submit()
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="链接类型的-csrf"><a href="#链接类型的-csrf" class="header-anchor">#</a> 链接类型的 CSRF</h4> <p>链接类型的 CSRF 并不常见，比起其他两种用户打开页面就中招的情况，这种需要用户点击链接才会触发。这种类型通常是在论坛中发布的图片中嵌入恶意链接，或者以广告的形式诱导用户中招，攻击者通常会以比较夸张的词语诱骗用户点击，例如：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://test.com/csrf/withdraw.php?amount=1000&amp;for=hacker<span class="token punctuation">&quot;</span></span> <span class="token attr-name">taget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_blank<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 重磅消息！！ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="如何防范-csrf"><a href="#如何防范-csrf" class="header-anchor">#</a> 如何防范 CSRF</h3> <h4 id="验证码-2"><a href="#验证码-2" class="header-anchor">#</a> 验证码</h4> <p>由于 CSRF 攻击伪造请求不会经过受攻击的网站，所以我们可以在网站加入验证码，这样必须通过验证码之后才能进行请求，有效的遏制了 CSRF 请求。</p> <p>但是，这种方式不是万能的，并不是每个请求都加验证码，那样用户体验会非常不好，只能在部分请求添加，作为一种辅助的防御手段。</p> <h4 id="验证-referer"><a href="#验证-referer" class="header-anchor">#</a> 验证 Referer</h4> <p>在 HTTP 协议中，头部有个 Referer 字段，他记录了该 HTTP 请求的来源地址，在服务端设置该字段的检验，通过检查该字段，就可以知道该请求是否合法，不过请求头也容易伪造。</p> <h4 id="cookie-设置-samesite"><a href="#cookie-设置-samesite" class="header-anchor">#</a> cookie 设置 SameSite</h4> <p>设置 SameSite：设置 cookie 的 SameSite 值为 strict，这样只有同源网站的请求才会带上 cookie。这样 cookies 就不能被其他域名网站使用，达到了防御的目的。</p> <h4 id="添加-token-验证"><a href="#添加-token-验证" class="header-anchor">#</a> 添加 token 验证</h4> <p>浏览器请求服务器时，服务器返回一个 token，每个请求都需要同时带上 token 和 cookie 才会被认为是合法请求</p> <p>这是一种相对成熟的解决方案。要抵御 CSRF，关键在于在请求中放入攻击者所不能伪造的信息，并且该信息不存在于 Cookie 之中。在服务端随机生成 token，在 HTTP 请求中以参数的形式加入这个 token，并在服务器端建立一个拦截器来验证这个 token，如果请求中没有 token 或者 token 内容不正确，则认为可能是 CSRF 攻击而拒绝该请求。</p> <h4 id="更换登录态方案"><a href="#更换登录态方案" class="header-anchor">#</a> 更换登录态方案</h4> <p>因为 CSRF 本质是伪造请求携带了保存在 cookies 中的信息，所以对 session 机制的登录态比较不利，如果更换 JWT（JSON Web Token）方案，其 token 信息一般设置到 HTTP 头部的，所以可以防御 CSRF 攻击。</p> <h2 id="参考"><a href="#参考" class="header-anchor">#</a> 参考</h2> <ul><li><p><a href="https://link.segmentfault.com/?enc=pffT3q%2FyKD0s553FjESwVA%3D%3D.mFLZ1dpUa18CJy7NwYMm1bkHZAam%2FtFu0%2FDyiU63Z7%2BxMuGOLxd14%2BMZX4SJZreG" target="_blank" rel="noopener noreferrer">WEB 前端安全——XSS 和 CSRF<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>ps： <a href="https://link.segmentfault.com/?enc=VOujNkrRYwflHXf52hlkSg%3D%3D.6sZYOhj3DqeXzfbs5ztcXUMhu6sw%2FYg6KZr7R%2Fn8jOl2bHmymv6b7MREDd6dcplW" target="_blank" rel="noopener noreferrer">个人技术博文 Github 仓库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，欢迎 star</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/base/code/20.html" class="prev">
        Retina 屏 1px 像素问题
      </a></span> <span class="next"><a href="/base/code/22.html">
        js变量提升
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.424a27f2.js" defer></script><script src="/assets/js/2.0ed5c963.js" defer></script><script src="/assets/js/31.82fffbbc.js" defer></script>
  </body>
</html>
